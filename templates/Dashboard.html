<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard – Smart Loan Risk Assessment</title>

  <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/Bank_logo_black.png') }}" />
  <link rel="stylesheet" href="/project/static/css/Dashboard.css" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/Dashboard.css') }}">
</head>

<body>
  <div class="page-content">

    <!-- Navigation Bar -->
    <nav>
      <div class="nav-container">
        <div class="nav-left">
          <div class="logo-icon">
            <img src="{{ url_for('static', filename='img/Bank_logo_black.png') }}" alt="Logo" />
          </div>
          <h3>Loan Predictor</h3>
        </div>
        <div class="nav-right">
          <div class="hamburger" onclick="toggleMenu()">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
          <ul class="nav-links" id="nav-links">
            <li><a href="{{ url_for('about') }}">Dashboard</a></li>
            <li><a href="#dataset">Data Set</a></li>
            <li><a href="#model">ML Model</a></li>
            <li><a href="{{ url_for('home') }}">Predictor</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Dashboard Section -->
    <section class="dashboard-section content-wrapper">
      <h2 class="section-title">Loan Risk Dashboards</h2>
      <p class="section-subtitle">Explore insights across different perspectives with our Tableau dashboards.</p>

      <!-- Dashboard 1: Overview of Risk -->
      <div class="tableau-container">
        <div class='tableauPlaceholder' id='viz1750326996929' style='position: relative'>
          <noscript>
            <a href='#'><img alt='Overview of Risk' src='https://public.tableau.com/static/images/ZZ/ZZWRTP8QJ/1_rss.png' style='border: none' /></a>
          </noscript>
          <object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='path' value='shared/ZZWRTP8QJ' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https://public.tableau.com/static/images/ZZ/ZZWRTP8QJ/1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='en-GB' />
            <param name='filter' value='publish=yes' />
          </object>
        </div>
      </div>

      <!-- Dashboard 2: Geographical Risk -->
      <div class="tableau-container" style="margin-top: 40px;">
        <div class='tableauPlaceholder' id='viz1750418316359' style='position: relative'>
          <noscript>
            <a href='#'><img alt='Geographical Risk' src='https://public.tableau.com/static/images/C2/C27Q9Y4TF/1_rss.png' style='border: none' /></a>
          </noscript>
          <object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='path' value='shared/C27Q9Y4TF' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https://public.tableau.com/static/images/C2/C27Q9Y4TF/1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='en-GB' />
            <param name='filter' value='publish=yes' />
          </object>
        </div>
      </div>

      <!-- Dashboard 3: Loan Specific Risk -->
      <div class="tableau-container" style="margin-top: 40px;">
        <div class='tableauPlaceholder' id='viz1750418053866' style='position: relative'>
          <noscript>
            <a href='#'><img alt='Loan Specific Risk' src='https://public.tableau.com/static/images/Lo/Loan_Specific_Risk_c1/LoanSpecificRisk/1_rss.png' style='border: none' /></a>
          </noscript>
          <object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='Loan_Specific_Risk_c1/LoanSpecificRisk' />
            <param name='tabs' value='no' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https://public.tableau.com/static/images/Lo/Loan_Specific_Risk_c1/LoanSpecificRisk/1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='en-GB' />
          </object>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <p>&copy; 2000–2025 Loan Predictor, Inc. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>

  <!-- Dashboard Scripts -->
  <script>
    function embedTableau(id, fallbackHeight) {
      const div = document.getElementById(id);
      const viz = div.getElementsByTagName('object')[0];
      if (div.offsetWidth > 800) {
        viz.style.width = '100%';
        viz.style.height = (div.offsetWidth * 0.75) + 'px';
      } else if (div.offsetWidth > 500) {
        viz.style.width = '100%';
        viz.style.height = (div.offsetWidth * 0.75) + 'px';
      } else {
        viz.style.width = '100%';
        viz.style.height = fallbackHeight;
      }
      const script = document.createElement('script');
      script.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      viz.parentNode.insertBefore(script, viz);
    }

    embedTableau('viz1750326996929', '1327px');  // Overview of Risk
    embedTableau('viz1750418316359', '727px');   // Geographical Risk
    embedTableau('viz1750418053866', '727px');   // Loan Specific Risk
  </script>
</body>
</html>
